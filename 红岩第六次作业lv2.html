<!DOCTYPE html>
<html lang="zh-cn">

<head>
    <meta charset="UTF-8">
    <title>LV2 </title>
    <script type="text/javascript" defer>
        window.onload = function() {
            let ps = document.getElementById("text")
            let map = Array.prototype.map
            let a = map.call("元丰六年十月十二日夜，解衣欲睡，月色入户，欣然起行。念无与为乐者，遂至承天寺寻张怀民。怀民亦未寝，相与步于中庭。庭下如积水空明，水中藻、荇交横，盖竹柏影也。何夜无月？何处无竹柏？但少闲人如吾两人者耳。", function(x) {
                return x
            })

            function pp() {
                return new Promise((resolve) => {
                    setTimeout(function() {
                        resolve()
                    }, 200)
                })
            }
            async function pppp() {
                for (let i = 0; i < a.length; i++) {

                    await pp()
                    ps.textContent += a[i]
                }

            }
            pppp()
        }
    </script>
</head>

<body>
    <p id="text">
    </p>
</body>

</html>